# docker-firefox-esr
Docker image to run Firefox ESR (Extended Support Release) 68.12.0.

Иногда нужно запустить и поработать с определенной версией Firefox
и при этом не хочется или даже проблемно устанавливать на основную ОС дополнительные библиотеки.
В этом случае хорошим вариантом является использование соответствующего docker-образа.

В данном проекте я настроил для себя сборку образа для запуска Firefox ESR (Extended Support Release) 68.12.0.
По утверждению службы поддержи [WebMoney](https://support.wmtransfer.com/) версия 68 Firefox
является последней версией, в которой поддерживают keygen и генерация сертификата.

Сертификат безопасности WebMoney устаревает через каждые 2 года, т.ч. от этой сборки должна быть польза.

Данный образ можно собрать самостоятельно через
```
docker build -t hidiv/firefox-esr .
```
или воспользоваться готовым образом с [DockerHub](https://hub.docker.com/r/hidiv/firefox-esr).

Для запуска на любой Linux OS под X Window в интерактивном режиме можно воспользоваться командой
```
docker run -it --rm --name firefox-esr \
    -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY \
    --ipc=host hidiv/firefox-esr
```
тут главное передать в запущенный docker-контейнер переменную окружения `DISPLAY` и смонтировать
каталог `/tmp/.X11-unix`, чтобы запущенный в docker-контейнере Firefox смог подключиться к
X Window основной ОС.

После закрытия окна с запущенным Firefox, контейнер будет удален автоматически (ключ `--rm`).

Можно также запускать Firefox в фоновом режиме, для этого необходимо поменять ключ `-it`
на значение `-d`. Контейнер с запущенным в фоновом режиме Firefox, тоже будет автоматически удален
после его закрытия.

**Важно! Firefox по умолчанию всегда пытается автоматически обновиться до текущей версии. Если
запустить его в контейнере под `root`, то это произойдет автоматически... Поэтому в образе
добавлен пользователь `user` (`uid=1000, gid=1000`), под которым запускается сейчас Firefox.
Однако, и в этом случае он предлагает обновиться сразу после запуска. Этого делать ненужно, т.к.
иначе пропадет весь смысл запуска конкретной версии браузера!**
